<?xml version="1.0" encoding="ISO-8859-1"?>
<changelog name="Segue">
	<version number="1.8.16" date="The Future">
		<releaseNotes>
			This release add support for exporting sites to a Segue2 instance.
		</releaseNotes>
		<change author='adam' date='2008-02-14'>
			Export: Added story History, ids, page location to existing exported nodes.
			Now also exports RSSFeeds and page-level content.
		</change>
		<change author='adam' date='2008-03-17'>
			Export: Now decodes page content.
		</change>
		<change author='adam' date='2008-03-17'>
			Export: Added text-type (text vs html) to the exported versions.
		</change>
		<change author='adam' date='2008-03-17'>
			Export: Added output scripts for migrating sites to Segue 2.
		</change>
		<change author='adam' date='2008-03-17'>
			Export/Config: Added configuration lines to the sample configuration
			to support Segue 2 migration.
		</change>
		<change author='adam' date='2008-03-19'>
			Export: Now exports participant lists and category lists.
		</change>
	</version>
	<version number="1.8.15" date="2007-12-13">
		<releaseNotes>
			This release fixes minors bugs in Segue.
		</releaseNotes>
		<fix author='alex' date='2007-11-26' ref='1839660' reporter="jim_witte">
			Bug with adding attachments to discussion posts is now fixed.
		</fix>			
	</version>
	<version number="1.8.14" date="2007-11-27">
		<releaseNotes>
			This release fixes primarily more bugs in Segue that resulted for security updates.
		</releaseNotes>
		<fix author='alex' date='2007-11-26' reporter="bryan">
			Categories for a given content block can once again be edited.
		</fix>		
		<fix author='alex' date='2007-11-26' ref='1827636'>
			Segue docs/install.txt updated to remove register global requirement
		</fix>		
	</version>
	<version number="1.8.13" date="2007-11-16">
		<releaseNotes>
			This release fixes the bug in Segue email site participants UI.
		</releaseNotes>
		<fix author='alex' date='2007-11-16' reporter="mary_ellen">
			Segue site participant email UI is once again functioning properly.
		</fix>		
	</version>
	<version number="1.8.12" date="2007-11-02">
		<releaseNotes>
			This release fixes newly discovered bugs that were introduced in the 1.8.5
			security patch. See the changelog for details.
		</releaseNotes>
		<fix author='alex' date='2007-10-31' ref='1819482' reporter="mel_hoag">
			Removed link to "add students of 'slot-name'" as editors in the edit permissions UI
			for all non-class sites, including sites whose slot type is "other" but whose slot name
			conforms to the class code naming convention.
		</fix>		
		<fix author='alex' date='2007-10-31' ref='1818790' reporter="mel_hoag">
			The public site listing and Media Library clear button is working once again.
		</fix>		
		<fix author='alex' date='2007-10-31' ref='1818788' reporter="mel_hoag">
			The public site listing pagination is working once again.
		</fix>		
		<fix author='alex' date='2007-10-31' ref='1820189' reporter="mel_hoag">
			The copy site function is working once again.
		</fix>		
	</version>
	<version number="1.8.11" date="2007-10-18">
		<releaseNotes>
			This release fixes the remaining known bugs introduced in the 1.8.5
			security patch. See the changelog for details.
		</releaseNotes>
		<change author='alex' date='2007-10-17'>
			Have updated the Moodle connector to work with Moodle version 1.8.3. This code is still
			experimental.
		</change>		
		<fix author='alex' date='2007-10-17' reporter="sasha_woolson">
			Files uploaded to the media library with the same name as files already in the media
			library will once again overwrite old files.  As well messages relating to uploads once
			again being printed.
		</fix>		
		<fix author='adam' date='2007-10-16' ref='1811150' reftype='bug' reporter="mel_hoag">
			Error no longer displayed after creating group sites.
		</fix>		
		<fix author='alex' date='2007-10-16'>
			Site and Logs search UI once again working properly.
		</fix>
		<fix author='alex' date='2007-10-16'>
			Media Library search UI once again working properly.
		</fix>
		<fix author='alex' date='2007-10-16' ref='1814739' reporter="sasha_woolson, mel_hoag">
			Media Library pagination once again working properly.
		</fix>
		<fix author='alex' date='2007-10-16'>
			RSS type pages (i.e. sidebar RSS) once again properly save urls and display feeds.
		</fix>
		<fix author='alex' date='2007-10-16'>
			Link type pages (e.g. sidebar links) once again properly save urls and display link.
		</fix>
		<fix author='alex' date='2007-10-16'>
			Removed the link to "add students of 'slot-name'" as editors in the edit permissions UI
			for all non-class sites.
		</fix>
		<change author='alex' date='2007-10-15'>
			Have removed the "class" type from the add/edit slots UI since this UI does not really
			generated "class" type slots in the same way as the add/edit classes UI does.
		</change>
		<fix author='alex' date='2007-10-15' reporter="mary_ellen">
			The discussion header text is now visible on for all themes (some theme settings resulted
			in white on white text)
		</fix>
		<fix author='alex' date='2007-10-15' ref='1811162' reftype='bug' reporter="mel_hoag">
			Can now view and update class groups.
		</fix>
		<fix author='alex' date='2007-10-15' ref='1811157' reftype='bug' reporter="mel_hoag">
			Can now search admin tools > add/edit classes UI by year and by owner.
		</fix>
		<fix author='alex' date='2007-10-15' ref='1811095' reftype='bug' reporter="mel_hoag">
			Revert to version button now properly reverts current version to previous version
			as specified in the revert to version form.
		</fix>
		<fix author='alex' date='2007-10-15' ref='1811075' reftype='bug' reporter="mel_hoag">
			Public site listing can once again be searched (by user, title or site).
		</fix>
		<fix author='alex' date='2007-10-15' ref='1809729' reftype='bug' reporter="alex">
			Logging in from any page in Segue now returns users to that page after authentication.
		</fix>
		<change author='adam' date='2007-10-09'>
			Now pulling segue version information from the changelog instead of the
			version.txt file.
		</change>
	</version>
	<version number="1.8.10" date="2007-10-05">
		<fix author='adam' date='2007-10-05' ref='1808317' reftype='bug' reporter="mel_hoag">
			Move/Copy UI now works.
		</fix>
		<fix author='adam' date='2007-10-05' ref='1808405' reftype='bug'>
			Cancel buttons in story and page wizards are now working.
		</fix>
		<fix author='adam' date='2007-10-05' ref='1808316' reftype='bug' reporter="mel_hoag">
			Reordering of content blocks now works.
		</fix>
		<fix author='adam' date='2007-10-05' ref='1808315' reftype='bug' reporter="mel_hoag">
			Comparing and reverting of versions now works.
		</fix>
		<fix author='adam' date='2007-10-05' ref='1808314' reftype='bug' reporter="mel_hoag">
			Delete Site now works.
		</fix>
		<change author='adam' date='2007-10-05' ref='1808390' reftype='bug' reporter="mike_edwards">
			Minor Updates to documentation
		</change>
		<change author='adam' date='2007-10-05' ref='1808391' reftype='bug' reporter="mike_edwards">
			Minor Updates to documentation
		</change>
	</version>
	<version number="1.8.9" date="2007-10-02">
		<fix author='adam' date='2007-10-02'>
			Fixed "invalid ltype" error when not authenticated.
		</fix>
	</version>
	<version number="1.8.8" date="2007-10-02">
		<releaseNotes>
			This release includes a fix for the remote code inclusion 
			vulnerability found yesterday and fixes all of the known bugs
			related to the new lack of global request variables. See the
			change log for details.
		</releaseNotes>
		<change author='adam' date='2007-10-02'>
			Went through each and every variable-include statement -- found by grepping for
			/(include|require)(_once)?\s*\([^;]*\$/  -- and made sure that every variable
			parameter into the include path has been filtered to prevent directory
			or network traversal.
		</change>
		<change author='adam' date='2007-10-02'>
			The themes directory is no longer configurable.
		</change>
		<fix author='adam' date='2007-10-02'>
			Add Students UI is now working.
		</fix>
		<fix author='adam' date='2007-10-02'>
			Username lookup is now working.
		</fix>
		<fix author='adam' date='2007-10-02'>
			Linking between participation and site-logs now working.
		</fix>
	</version>
	<version number="1.8.7" date="2007-10-02">
		<fix author='adam' date='2007-10-02'>
			Can now access discussion posts.
		</fix>
		<fix author='adam' date='2007-10-02'>
			Can now upload media.
		</fix>
		<fix author='adam' date='2007-10-02'>
			Permissions step is now maintained between screens.
		</fix>
		<fix author='adam' date='2007-10-02'>
			Themesettings can now be changed.
		</fix>
	</version>
	<version number="1.8.6" date="2007-10-02">
		<fix author='adam' date='2007-10-02'>
			Fixed change-user function.
		</fix>
		<fix author='adam' date='2007-10-02'>
			Fixed site shortcuts.	
		</fix>
		<fix author='adam' date='2007-10-02'>
			Updated all instances of $luser, $auser, $ltype, $atype, etcetera to
			look in the $_SESSION so they will work properly without the semi-register-globals
			hack that caused the recent security vulnerability.
		</fix>
	</version>
	<version number="1.8.5" date="2007-10-01">
		<releaseNotes>
			This release fixes the remote code inclusion vulnerability 
			found today, but will break the following UI elements:
			
				- change user when admin
				
				- Changing theme settings under "edit site settings"
			
			Another release will be made tomorrow that fixes these UI 
			elements.
		</releaseNotes>
		<fix author='adam' date='2007-10-01'>
			Fixing Security hole where request variables were imported after config was set enabling overriding of any config variable.
		</fix>
	</version>
	<version number="1.8.4" date="2007-08-02">
		<fix author='alex'>
			Reorder UI now works properly in Tabs theme.
		</fix>
		<change author='alex'>
			Added error message to Roster UI that indicates a user has not logged into Segue when
			atttempted to add an associated site for that user.			
		</change>
		<fix author='alex'>
			Fixed Roster UI so that site owners can add students to grouped sites (i.e. sites
			that are composed of 2 or more separate class slots
		</fix>
		<fix author='alex'>
			Fixed div tags enclosing content blocks to ensure that the content block
			title also does not overlap with other content blocks
			content blocks.
		</fix>
		<fix author='alex'>
			Link to edit groups UI now appears whenever there are groups that can be edited
		</fix>
		<fix author='alex'>
			Edit groups UI now shows all slot names that are part of a given group
			only once.
		</fix>
		<fix author='alex'>
			Fixed copy site UI so it now appears whenever a user has a slot they can copy to and also
			now shows correct slots to copy from and to.
		</fix>
	</version>
	<version number="1.8.3" date="2007-07-17">
		<change author='alex'>
			Added 1pixelout Audio Player Wordpress plugin to Segue credits page.			
		</change>
		<change author='alex'>
			Changed the width of the table enclosing content block RSS feeds to 
			100%			
		</change>
		<fix author='alex'>
			Fixed div tags enclosing content blocks to ensure no overlap with other
			content blocks.
		</fix>
		<fix author='alex'>
			Change in new FCKeditor that made RETURN/ENTER key default a br tag instead
			of a p tag now properly configured.
		</fix>
	</version>
	<version number="1.8.2" date="2007-07-11">
		<fix author='alex'>
			Flash audio player is now displayed only for mp3 files that do not
			have special characters.
		</fix>
		<change author='alex'>
			Enclosed content block text in div tags instead of table
		</change>
		<fix author='alex'>
			Fixed HTML editor option dropdown for IE so that the option to choose
			no editor is selectable.
		</fix>
		<change author='alex'>
			Changed new FCKeditor so that RETURN/ENTER key creates a br tag instead
			of a p tag
		</change>
		<fix author='alex'>
			Fixed new file-for-download content block layout so that all 
			elements are contained within downloadbar style.
		</fix>
	</version>
	<version number="1.8.1" date="2007-07-10">
		<change author='alex'>
			Changed the version difference styles so that the add and delete
			differences always show black text
		</change>
		<change author='alex'>
			Add wiki-linking support to file-for-download and image type content
			blocks
		</change>
		<change author='alex'>
			Removed the Universal keyboard from FCKeditor since this is no longer
			supported by current versions of this editor
		</change>
		<change author='alex'>
			Updated FCKeditor from version 2.3.2 to version 2.4.3.
		</change>
		<change author='alex'>
			Added additional options in content block number of items to display
			to include 2, 3, 4 items per page.
		</change>
		<change author='alex'>
			Included files attached to discussion posts as enclosures in the 
			discussion posts RSS feed.
		</change>
		<fix author='alex'>
			Detail pages with discussion posts now valid HTML.
		</fix>
		<fix author='alex'>
			Discussion display options for threading or flat now being properly
			set for session.
		</fix>
		<fix author='alex'>
			Empty site (i.e. no sections or pages) now renders properly.
		</fix>
		<new author='alex'>
			Added a Flash audio player for mp3 files in file-for-download content block
			and discussion posts
		</new>
		<change author='alex'>
			Changed layout of file-for-download content block and the layout for
			files attached to discussion posts
		</change>
		<change author='alex'>
			Associated sites now listed below the site they are associated with
		</change>
		<fix author='adam'>
			Wiki links to nonexistent Segue sites no longer throws errors
		</fix>
		<fix author='alex'>
			Section default page order is now being set to "custom" instead of
			null.
		</fix>
		<fix author='alex'>
			Internal links and links to media from a site's media library were
			not working in sidebar content pages because tokenized paths were
			not being converted to appropriate urls.  This is fixed.
		</fix>
	</version>
	<version number="1.8.0" date="2007-06-12">
		<releaseNotes>
			For updates from Segue prior to 1.8.0, run the updater under "admin tools".
		</releaseNotes>
		<change author='adam'>
			Full editors of a given site can now view assessment mode
			participant posts and participants will see full editor replies to
			their posts
		</change>
		<fix author='adam'>
			Adding wrapper div to 'Custom CSS' theme to enable offsetting the 
			site-content from the background.
		</fix>
		<change author='alex'>
			Changed various theme color arrays to allow for theming of discussion
			headers and versioning UI
		</change>
		<change author='alex'>
			Added more options to the Shadowbox theme settings
		</change>
		<change author='alex'>
			Moved the status bar (area with login info and links to directory, 
			tracking, home and logout) above the site header.  Also changed its
			layout to make make more compact.  			
		</change>
		<new author='alex'>
			 Added RSS content block display options for choosing the number of
			 RSS items to display on both initial view and extended view
		</new>
		<new author='alex'>
			 Added config option to specify admin-only themes.  These are themes
			 that can be selected only by Segue administrators.
		</new>
		<new author='alex'>
			 Added site width theme setting to all themes (except the Tabs theme)
			 allowing users to specify various fixed or variable width settings 
			 for a site			 
		</new>
		<new author='alex'>
			Added a search site functionality.
		</new>
		<new author='alex'>
			Added new rounded corners theme
		</new>
		<new author='alex'>
			Added page display options for ordering pages by recent first, recent
			last, by author, editor or alphabetically.
		</new>
		<new author='alex'>
			Added wiki-style linking.
		</new>
		<new author='adam'>
			Added a wiki parsing engine to support wiki-style linking.
		</new>
		<fix author='adam'>
			Adding ' + 0' to permission fetching queries to force enumerated fields 
			into using their numeric [index] values rather than the string version. 
			The previous form had stopped working in MySQL 5.
		</fix>
		<fix author='adam'>
			Now runs updaters automatically when first installing.
		</fix>
	</version>
	<version number="1.7.4" date="2007-02-20">
		<fix author='adam' ref='1661595' reftype='bug'>
			Page and section order is now re-keyed when adding a new page/section
			so that new pages/sections are always at the end of the list. Before, 
			moves or deletions of pages/sections would result in gaps in the order 
			which could allow new pages/sections to be given an order other than 
			the end of the list. 
		</fix>
		<fix author='adam' ref='1663713' reftype='bug'>
			Initial version of content is now saved creating a new content block,
			not just when updating.
		</fix>
		<fix author='adam' ref='1663677' reftype='bug'>
			Detail view for 'link'-type and 'RSS'-type content blocks now displays
			their content.
		</fix>
		<fix author='adam' ref='1663638' reftype='bug'>
			Fixed RSS feeds so that ampersands are not doubly encoded.
		</fix>
		<fix author='adam'>
			Fixed error in which only one current class was shown to students.
		</fix>
		<change author='alex'>
			Added a configuration list for additional custom themes to the config
			to prevent needing to modify the themes/themeslist.inc.php when adding
			custom themes.
		</change>
	</version>
	<version number="1.7.3" date="2007-02-16">
		<change author='alex'>
			Copy site UI now displayed on Segue home pages by default (changes
			in version 1.7.0 hid the copy site UI until a section was expanded).
		</change>
		<fix author='alex'>
			Fixed Segue home page display for students that was broken by updates
			to Segue home page display made in version 1.7.0
		</fix>
	</version>
	<version number="1.7.2" date="2007-02-09">
		<fix author='adam'>
			Fixed error with story definition in 1.7.0 that prevented inserting 
			of stories.
		</fix>
		<fix author='adam'>
			Versions are now displayed whenever the 'show versioning' box is checked,
			not just when it is checked along-side another property such as 
			'show updated username'.
		</fix>
	</version>
	<version number="1.7.1" date="2007-02-08">
		<fix author='adam'>
			Fixed global variable overwrite in page reordering.
		</fix>
	</version>
	<version number="1.7.0" date="2007-02-08">
		<releaseNotes>
			See the changelog for details of fixes and improvements.

			UPGRADES from prior to 1.7.0:
			
			After updating your Segue source code and configs, please 
			log into Segue as an administrator and run the 
			"1.7.0 updater" in "Admin Tools">>"Segue Updates".
		</releaseNotes>
		<new author='alex'>
			Added a Recent Activity section to the Segue home page that shows
			a dashboard view (sorted by recent first) with Recent Discussions on all 
			sites of a given users as well as on all content blocks a given user 
			has added.  Recent Activity also shows all sites ordered by those
			the user has most recently edited with links to the most recent 
			content.
		</new>
		<new author='alex'>
			Redesigned Segue home page (default.inc.php) so that all sections
			except Current Classes can be shown or hidden and by default are 
			set to hidden so as to speed up the loading of home pages and to 
			allow users to decide what sites they want to display 
		</new>
		<new author='adam'>
			Added a "custom css" theme that allows users to have full control
			over the style sheet for their site.
		</new>
		<change author='alex'>
			Added view source to discussion version of HTML editor
		</change>
		<change author='adam'>
			Can now chose not to use a WYSIWYG editor.
		</change>
		<change author='adam'>
			HTML editor selection is now persisted globally for the entire session.
		</change>
		<change author='adam'>
			Can now choose the HTML editor to use for the site header and footer.
		</change>
		<fix author='adam'>
			Fixed error in media table definition for new installs.
		</fix>
		<fix author='adam'>
			Now all personal-type sites are shown under personal sites, not under
			'other sites'.
		</fix>
		<fix author='adam'>
			Fixing bug with reordering of stories where the reorder button was
			sometimes not shown.
		</fix>
		<fix author='adam'>
			Fixing bug with reordering of pages. Where moving pages from one 
			column to the other got orders confused. All pages in a section are 
			now re-keyed during reorder.
		</fix>
		<fix author='adam'>
			Now the message to hide page navigation only shows when there is only
			one page, not when there is only one on a side.
		</fix>
	</version>
	<version number="1.6.1" date="2007-01-10">
		<fix author='adam'>
			Fixed bug in which comments containing single quotes where being truncated 
			on rating.
		</fix>
	</version>
	<version number="1.6.0" date="2006-12-20">
		<new author='alex'>
			Added code for linking Segue with Moodle (segue/connector). This code
			requires specific Segue-Moodle themes and modifications to Moodle code
			documented here.  Note: this is the first iterator of this connector 
			and is not well-documented.  Expect improvements in future releases
		</new>
		<fix author='adam'>
			Permissions/Home page: Fixed up the query in the 
			getSiteInfoWhereUserIsEditor() function that is used in building the
			list of site in which the user is an editor. Speed is now increased 
			by about 12-times, making the algorithm functional when a user is an
			editor of more than 100 sites. Hopefully this will cure incidences of
			somewhat random slowdowns.
		</fix>
	</version>
	<version number="1.5.11" date="2006-11-15">
		<fix author='adam' reporter="mel_hoag">
			Added a check for a non-zero length password to prevent login from
			occuring without a password when the LDAP server is configured to allow
			anonymous binding. Thank you to Melanie Hoag and her team
			at Southwestern University for help locating this bug.
		</fix>
	</version>
	<version number="1.5.10" date="2006-10-25">
		<fix author='adam' reporter="mel_hoag">
			Added exit() statements after sending redirect headers to prevent
			continued execution that was resulting in an authentication
			race-condition that had the effect of populating empty class-lists
			for students and professors. Thank you to Melanie Hoag and her team
			at Southwestern University for help locating this bug.
		</fix>
	</version>
	<version number="1.5.9" date="2006-10-24">
		<fix author='alex'>
			Fixed reorder content block UI so it only appears to users who have 
			edit permisson to the page containing content blocks.
		</fix>
		<fix author='adam'>
			Patched a vulnerability in dynamic includes that allowed the execution
			of arbitrary remote code when register_globals was turned on.
		</fix>
		<fix author='adam'>
			Fixed an error in permissions setting and loading in which permissions
			for everyone and institute where quotes were being added around NULL
			editor ids and causing view permissions for everyone and institute
			to not show up.
		</fix>
		<fix author='adam'>
			Fixed an error in permissions in which invalid permissions commands
			were being run when a user or group name contained the sting 'add', 
			'edit', 'delete', or 'view'. i.e. 'pheditram-w06'.
		</fix>
	</version>
	<version number="1.5.8" date="2006-10-19">
		<fix author='alex'>
			Fixed extra borders showing in the torn pieces theme.
		</fix>
		<fix author='alex'>
			Fixed theme issue in which text color stayed black when choosing 
			a black background in the "Minimal Colors" theme.
		</fix>
		<fix author='adam'>
			Added global parameter reference into newly refactored Download Bar
			function to now generate the correct link.
		</fix>
	</version>
	<version number="1.5.7" date="2006-10-18">	
		<important author='alex'>
			Various changes in Segue necessitate that you run the '1.5.7 update' 
			under 'admin tools' > 'updates' to make several changes to Segue's 
			database.
		</important>
		<new author='adam'>
			Fields have been added to the media table to enable users to add and 
			edit metadata to files they upload to the Media Library.		
		</new>
		<new author='adam'>
			File metadata is now displayed in the file download bar.
		</new>
	</version>
	<version number="1.5.6" date="2006-10-16">			
		<change author='alex'>
			Changed the toolbar in the HTML editor used for emailing participants
			to be the same toolbar as is used for discussions/assessments.
		</change>
		<change author='alex'>
			Updated the FCKeditor from version 2.2 to version 2.3.2.
		</change>
		<change author='alex'>
			Fixed Segue CSS so that table borders created in the HTML Editor will 
			display properly.
		</change>
		<change author='alex'>
			Added documentation re: changes that need to be made to the FCKeditor
			source code in order to integrate it with Segue.
		</change>
		<fix author='adam'>
			Fixed errors in logging function (introduced in version 1.5.5).
		</fix>
		<fix author='alex'>
			Fixed roster and participation UI such that links and information
			about rosters is displayed only if the site is a class site.
		</fix>
		<fix author='adam'>
			Fixed email/roster/participation/logs UI such that relevant information
			from each of these are saved when navigating between them.
		</fix>
		<change author='adam'>
			Segue's RSS reader (CaRP) was modified to handle RSS feeds in any
			encoding.
		</change>
		<fix author='alex'>
			Fixed editing of content blocks on pages set to display one content
			block per page such that users are returned to that content block 
			(instead of being returned to the first content block)
		</fix>
		<fix author='adam'>
			Content block categories now copied when a page is moved/copied.
		</fix>
		<fix author='adam'>
			Segue now generates valid XHTML 1.0 Transitional output. Some 
			user-supplied content may not be valid, but the Segue-generated content
			is.
		</fix>
		<fix author='adam'>
			Themes all now generate valid CSS. This fixes a problem with the
			BevelBox theme not rendering properly in Safari.
		</fix>
		<fix author='adam'>
			Removed a number of PHP warnings from the add_editor script.
		</fix>
		<fix author='adam'>
			Fixed display of groups for everyone and institute in add editor UI.
		</fix>
		<change author='alex'>
			Added a link to page display options beside the page title.
		</change>
		<change author='alex'>
			Changed the UI for reordering pages.
		</change>
		<change author='alex'>
			Changed edit UI to always show page title.
		</change>
	</version>		
	<version number="1.5.5" date="the future">	
		<change author='alex'>
			Moved editing UI for lower right for participant, category, rss and
			content so it is consistent with positioning of other editing UI's
		</change>
		<change author='alex'>
			Changed all SQL queries to prevent SQL injection.
		</change>
		<fix author='alex'>
			Fixed sorting of site and user logs so they now can be sorted by
			any of the columns displayed.
		</fix>
		<fix author='alex'>
			Fixed sorting of discussion posts so they now sort properly by
			recent first, recent last, by author and by rating.
		</fix>
		<new author='alex'>
			Added a function for adding all groups from LDAP that a given user is
			a member of into the Segue ugroup table.  Once added these groups will 
			appear in the user directory and permissions can be assigned to them
		</new>
	</version>		
	<version number="1.5.4" date="2006-06-13">	
		<fix author='alex'>
			Page pagination was not displaying on top of page for full content 
			view when hide sidebars was checked.
		</fix>
		<change author='alex'>
			Changed spacing between sidebar navigation items that had been
			inadvertantely changed in version 1.5.3.
		</change>
	</version>	
	<version number="1.5.3" date="2006-06-08">	
		<change author='alex'>
			Added the gsp mime type for files created with Geometer's sketchpad.
		</change>
		<change author='alex'>
			Changed how RSS feed links are displayed in the pop up window for
			more RSS.  Specifically added RSS icon and made the description
			of the RSS feed the link to that RSS feed.
		</change>
		<change author='alex'>
			Added the text RSS to the right of the RSS icon for the link to page
			RSS.  As well added the RSS icon to the left of the more RSS link for 
			additional RSS feeds.
		</change>
		<change author='adam'>
			There has been a problem with inadvertant session-hijacking. This is
			caused when a user (with cookies diabled and the PHP Session ID passed
			in their URL) copy/pastes a Segue url containing the session ID into
			an email or external website. When students (or others click on that
			link, they are now using the session with the id specified in the url.
			Multiple users clicking such a link would all end up using the same
			session, causing login/logout actions of one user to apply to state
			of all users who clicked that link. As there is no technological trick
			in PHP that would allow the continued passing of the Session ID in the
			URL without this problem, Segue will now force the use of cookies
			for authenticated users.
		</change>
		<change author='alex'>
			Changed display of sections with single pages.  Specifically, when
			a section has only one page, a sidebar link is still created.
			(this change undoes a new feature introduced in version 1.5 whereby 
			sections with only one page would not display a link to that page
			in the left sidebar).  To avoid confusion as well as inform users of
			options, when a section has only one page, a note is displayed at 
			the top of the sidebar indicating the section has only one page and
			a link is provided to change the section display settings to hide the sidebar.			
		</change>
		<new authoer='alex'>
			Added section display options.  Specifically added a display option
			to hide sidebars.  When this option is selected, both the left and right
			sidebars are hidden and if the section has more than one page, links 
			are displayed to the previous and next pages.  If this section setting
			to hide sidebars is turned on, then a note is displayed at the top
			of each sidebar indicated this and a link is provided to change the
			section display settings to show the sidebar.		
		</new>		
		<fix author='alex'>
			removed extra spacing in RSS output.
		</fix>		
		<fix author='alex'>
			Added missing enclosure tags to all-content RSS outputs.
		</fix>		
		<fix author='alex'>
			Removed page and section titles from category RSS title field
		</fix>		
		<change author='alex'>
			Increased number of items in all-content and all-discussion RSS outputs
			from 10 to 20 items
		</change>
		<change author='alex'>
			Added category tags to all Segue RSS output
		</change>
		<change author='alex'>
			Added the rel attribute with the category/tag name to category/tag links
		</change>
		<fix author='alex'>
			RSS feeds no longer will include RSS content blocks as items (i.e.
			no RSS feeds of RSS feeds)
		</fix>
		<change author='alex'>
			The attribution link for content blocks now displays a link to that
			content blocks url
		</change>
		<change author='alex'>
			Added support for displaying table tags in the display of RSS feeds
			in Segue
		</change>
		<fix author='alex'>
			Set encoding of RSS feeds that are displayed in Segue (via CARP)
			to be utf-8 (had been set to ISO 8859-1)
		</fix>		
		<fix author='alex'>
			Fixed spacing between content blocks to make more consistent.  
			Specifically, if no attribution or no horizontal rule, then a single
			space is put between content blocks.  If horizontal rules specified, 
			then no space is put between content blocks.
		</fix>		
		<change author='alex'>
			The title for image type content blocks now only displayed below 
			the image center justified and no longer is displayed above the image.
			As well, the add/edit UI for image type content blocks no longer refers
			to Title and Caption/Description but instead refers to Caption and 
			Description
		</change>
		<change author='alex'>
			Changed FCKEditor config so that the link tool included advanced
			options such as specifying link target.
		</change>
		<fix author='alex'>
			Fixed missing scrollbars in the filebrowser window that is opened
			from the FCKEditor.
		</fix>		
		<fix author='alex'>
			Fixed problem with category UI on PC IE.  Specifically, fixed javascript
			so that categories can be added and deleted from site tags by clicking
			on them.
		</fix>		
		<fix author='alex'>
			Fixed problem with paths to filetype icons in the FCKEditor version of the
			Segue filebrowser.
		</fix>		
	</version>	
	<version number="1.5.2" date="2006-02-21">	
		<change author='alex'>
			The 1st page link of any section no longer uses the heading style
			that was introduced in version 1.5
		</change>
		<change author='alex'>
			Content blocks without titles display a link to their detail view 
			(i.e. unique URL) to the right of attribution and timestamp display
			(this link used to display above attribution display).  This means 
			that the url for a given content block without a title will be displayed 
			only if attribution/timestamp is set to display and/or discussion/assessment
			is enabled and/or there is extended content. (content blocks with
			titles use the title itself as the unique link for that content block)
		</change>
		<new author='alex'>
			RSS for all recently added content blocks and recent discussions.
		</new>
		<new author='alex'>
			RSS for content block detail will include just that content block
			and all its discussion posts.
		</new>
		<fix author='alex' ref='1432407' reftype='bug'>
			Fixed category RSS feeds so now they have proper page and section ids
		</fix>	
		<fix author='alex' ref='1431633' reftype='bug'>
			Fixed Javascript error related to the FCKEditor
		</fix>	
		<fix author='alex' reftype='bug'>
			Fixed secure/non-secure dialog warnings caused by the HTMLArea editor
			in PC IE when Segue is running on a secure server.  Thanks to Mark Pyfrom
			for finding a solution to this problem
		</fix>	
	</version>
	<version number="1.5.1" date="2006-02-09">	
		<change author='alex'>
			Changed the RSS icon to use the Firefox RSS icon.
		</change>
		<fix author='alex' reftype='bug'>
			Parts of the discussion UI were unreadable if the mimimal theme used
			white text on a black background.  I have reworked the discussion UI styles
			so that they used theme border and bg color information to ensure 
			compatible colors and legible text.
		</fix>	
		<fix author='alex' ref='1425388' reftype='bug'>
			Fixed bug that did not warn admin users that they were entering a 
			duplicate external class id.
		</fix>	
		<change author='alex'>
			Removed unnecessary references to Segue in help topics.  Also allowed
			for customization of Segue logo adding config options for right
			side logo in program theme
		</change>
		<change author='alex'>
			Changed how RSS content blocks are displayed making them look more
			like other content blocks.
		</change>
		<fix author='alex' ref='1423624' reftype='bug'>
			Fixed bug that prevented personal slots from being displayed
		</fix>	
		<fix author='alex'>
			Fixed various tag display problems related to special characters
			such as apersands, single quotes and so on.
		</fix>	
		<new author='alex'>
			Have added the FCKeditor as Segue's default HTML editor.
		</new>
		<change author='alex'>
			Added .m4v and .swf to default upload whitelist	
		</change>	
	</version>
	<version number="1.5.0" date="2005-12-18">
		<fix author='adam'>
			fixed file copy errors when copying site
		</fix>
		<change author='alex'>
			The 1st page link of any section uses the heading style.
		</change>
		<change author='alex'>
			Page display options have been changed so that added by and edited by
			timestamps can be displayed independently.
		</change>
		<change author='alex'>
			Content block page titles are now links to detail or in-depth view 
			which display only the given content block and its extended text and/or
			discussions when these exist.  If a content block has no title,
			a link labeled "link" is displayed below the content block above links
			to discussion and attribution.
		</change>
		<change author='alex'>
			If the current date is not within the active dates range of a content
			block then the active dates range will be displayed in edit mode
			and the content block will not be displayed (even to the site owner)
			in view mode.  If a page is hidden or inactive, "[hidden]" and/or 
			"[inactive]" will be displayed below the page title in edit mode.
		</change>
		<change author='alex'>
			Heading page type style have been changed to use colors from theme settings to
			create a more consistent UI.  As well the hr tag also uses theme colors.
		</change>
		<change author='alex'>
			Have changed how page and content types are selected, replacing
			radio buttons with a select menu.
		</change>
		<change author='alex'>
			Content block archiving has been changed such that content blocks are
			now archived by specifying the number of blocks to display on a page.
			If the number of content blocks exceeds the number per page setting,
			pagination will be displayed.  If the number per page is set to one 
			then the page title will not be displayed and a select menu with
			links to all content blocks on the page will be displayed.
		</change>
		<change author='alex'>
			Categories have been reimplemented such that a given content block
			can be added to more than one category. Category select UI changed
			from select menu to an alphabetical list of categories that are links 
			that populate the category field and that highlighted currently 
			selected categories.
		</change>
		<new author='alex'>
			Added new page type called Participant list.  This page type allows
			users to display a list of the names of all participants in the site 
			in the left or right sidebar including the Site Owner, Roster participants 
			(for class sites) and all site editors.  For class sites, if an 
			associated site has been created by a given roster participant, their
			name will be a link to this associated site.  The Participant list type
			does not have children (i.e. do not have stories)
		</new>
		<new author='alex'>
			Added new page type called Categories.  This page type allows
			users to display all the content block categories they have created for
			a given site as a list in the left or right sidebar. Each item in the
			list is then a link which retrieves all content blocks of that
			category and displays them chronologically.  The Category page type
			does not have children (i.e. do not have stories)
		</new>
		<new author='alex'>
			Added new page type called RSS feed.  This page type allows
			users to add an RSS feed to the left or right sidebar. Only the  RSS page
			types do not have children (i.e. do not have stories)
		</new>
		<new author='alex'>
			Added new page type called sidebar content.  This page type allows
			users to add content to left or right sidebar.  Sidebar content page
			types do not have children (i.e. do not have stories)
		</new>
		<change author='alex'>
			if a section has only one page, then display only the stories on that
			page, do not display a link to the page in either sidebar.
		</change>
		<new author='alex'>
			Activated a right column navigation area so that any page link can
			be displayed on the left or right side of a Segue page.
		</new>
		<fix author='alex'>
			Changed the display range of discussion summaries from 2 to 30.
			(this display range was reduced to 2 from 30 in Version 1.4.4 for 
			testing purposes and was not set back to 30 before release!)
		</fix>
		<fix author='alex' ref='1348393' reftype='bug'>
			Fixed RSS feeds so that they do not re-downloaded in certain RSS
			readers like Safari and iTunes.
		</fix>
	</version>
	<version number="1.4.4" date="2005-11-22">
		<fix author='alex' ref='877774' reftype='bug'>
			If certain steps are taken when creating a site it was possible
			to create a site with no name (if a user creates a site and then
			immediately uses the browser back button to return and then clicks
			continue and finish...).  This bug has been eliminated.
			Thanks to Jim Witte (jwitte@uiuc.edu) for tracking this bug down!
		</fix>
		<fix author='alex' ref='1353196' reftype='bug'>
			Mispelling of password in "Forgot your password" as been fixed.
		</fix>
		<fix author='alex' ref='1363156' reftype='bug'>
			Editing button styles now specify a text color. (fixes bug caused
			by themes with white text color)
		</fix>
		<change author='alex' ref='1212787' reftype='bug'>
			Class sections can now be designated by either letters or numbers.
		</change>
		<fix author='alex' ref='1345320' reftype='bug'>
			Fixed summaries of discussion posts when number of participants
			is greater than 30 (query limits) Also fixed display of a given
			users discussion posts when these exceed query limit.
		</fix>
		<fix author='alex' ref='1330176' reftype='bug'>
			Fixed typo in config.sample.inc.php file.
		</fix>
		<fix author='alex' ref='1313096' reftype='bug'>
			Fixed internal links in image content blocks by adding convertlinks function.
		</fix>
	</version>
	<version number="1.4.3" date="2005-10-05">
		<change author='adam'>
			Added several functions which can return all data needed to display
			a number of sites/slots in one query. The default page was reworked
			to use these queries, dramatically reducing (by about 2000%) the number
			of queries needed to display the default page for users who are
			editors of many sites.
		</change>
		<fix author='adam'>
			Fixed ordering (for display) of class-codes.
		</fix>
		<fix author='adam'>
			Fixed ordering (for display) of class-codes.
		</fix>
		<change author='adam'>
			Now caches class membership info for the session since this data 
			will not generally chage during a session. If it does change, such 
			as an admin or prof adding students to a class, a simple log-out, 
			log-in will update the data.
		</change>
	</version>
	<version number="1.4.2" date="2005-10-03">
		<fix author='adam'>
			The old isgroup() algorithm was looping through ALL classes and generating 
			codes for them when ANY classes were in a group. 

			When a user has a group displayed on the homepage:
				1 call is made for each class in existance
				+ 2 calls for each class in the group
			
			Now only 2 calls are made for each class in the group.
		</fix>
	</version>
	<version number="1.4.1" date="2005-08-02">
		<new author='alex'>
			Added support for podcasting via RSS with enclosures.  Specifically
			for content blocks that are files for download, enclosed url to these
			files in enclosure tag
		</new>
		<change author='alex'>
			Added support for more html tags in RSS description field. Specifically
			allowed for images and link tags.
		</change>
		<fix author='alex' ref='1235422' reftype='bug'>
			Fixed RSS feed publishing to be more valid.  In particular, changed
			pubDate to be an RFC-822 date-time, included author email address,
			fixed links to urls internal to site and make each story url unique
		</fix>
		<fix author='alex' ref='1235421' reftype='bug'>
			Fixed bug in getclassstudents function that prevented getting students in
			a class when the class_external_id is different from the slot_name
		</fix>
		<fix author='alex' ref='1235423' reftype='bug'>
			Fixed bug that caused sections with no pages to not print out when viewing
			a site
		</fix>
		<change author='alex'>
			removed getNameOfClassForSite function and changed all code that attempted
			to get class info using the class_external_id
		</change>
		<fix author='alex' ref='1235421' reftype='bug'>
			Fixed bug in getclassstudents function that prevented getting students in
			a class when the class_external_id is different from the slot_name
		</fix>
		<new author='gabe'>
			Added some checks for 'no-name' sites deleting the entire userfiles directory!
		</new>
		<fix author='adam'>
			Changed include paths to allow importing sites from XML backups to 
			work.
		</fix>
		<fix author='adam' ref='1240466' reftype='bug'>
			Fixed bug in which media files are not being copied to the destination
			site when it was different from the originating site.
		</fix>
		<fix author='adam' ref='1239086' reftype='bug'>
			Empty sites/sections/pages now display instructions to use the '+ add 
			section', '+ add page', and '+ add story' buttons in edit mode.
		</fix>
	</version>
	<version number="1.4.0" date="2005-05-31">
		<fix author='alex'>
			fixed various errors due to higher level PHP error checking (e.g. 
			wrong datatypes, non-scalar values...etc)
		</fix>
		<new author='alex'>
			Refined discussion summary and email UI.  In Discussion summary, 
			separated lists of participants in roster(i.e. class) for participants
			not is roster.  Added option to add non-roster participants to roster.
			Also added option to email all participants, only participants in class 
			(regardless of whether they posted to discussion or not) or any subset 
			of all participants.
		</new>
		<new author='adam'>
			Added RSS publishing option for all Segue pages.
		</new>
		<fix author='adam'>
			Removed call-time pass-by-reference usage.
		</fix>
		<change author='adam'>
			The version number on the default page now links to this changelog.
		</change>
	</version>
	<version number="1.3.7" date="2005-05-10">
		<fix author='adam'>
			fixed config parameter checking to look for new whitelist parameter.
		</fix>
		<fix author='adam'>
			Fixed whitelist to not allow substrings to trigger validity.
		</fix>
		<fix author='alex'>
			Fixed class-membership printing.
		</fix>
	</version>
	<version number="1.3.8" date="The Nebulous Future">
		<fix author='adam'>
			Previous security fixes broke log pagination and limiting. These
			now work again.
		</fix>
	</version>
	<version number="1.3.7" date="2005-05-10">
		<fix author='adam'>
			fixed config parameter checking to look for new whitelist parameter.
		</fix>
		<fix author='adam'>
			Fixed whitelist to not allow substrings to trigger validity.
		</fix>
		<fix author='alex'>
			Fixed class-membership printing.
		</fix>
	</version>
	<version number="1.3.6" date="2005-05-06">
		<important>
			Segue &lt; 1.3.6 contains a critical security hole which allows the upload
			of php scripts with the .phtml extension to the userfiles directory. It is 
			critical that you either update Segue to version 1.3.6 or greater AND/OR
			edit your Apache configuration (httpd.conf) to prevent Apache from passing
			the handling of .phtml files to PHP.
		</important>
		<fix author='adam'>
			File over-writes are now properly logged.
		</fix>
		<fix author='adam'>
			Log view now displays actions of user accounts that have been deleted.
		</fix>
		<fix author='adam'>
			White-listing or black-listing of files by extension is now availible.
			White-listing is the default. Please update your config from 
			config_sample.inc.php.
		</fix>
	</version>
	<version number="1.3.5" date="2005-04-27">
		<fix author='adam'>
			Session variables now properly unset after editing stories. 
		</fix>
		<fix author='alex'>
			Editors can now be removed using discussion editor UI.  (This bug
			was introduced in version 1.3.4)
		</fix>
		<fix author='alex'>
			Fixed hide author bug so that authors in all discussions are not 
			hidden to unauthenticated users. 
		</fix>
	</version>
	<version number="1.3.4" date="2005-04-18">
		<change author='adam' ref='1185237' reftype='fr'>
			Default page now focuses to username field.
		</change>
		<fix author='alex' ref='1177195' reftype='bug'>
			Discussion feedback now show site owner instead of addedby user
		</fix>	
		<fix author='alex' ref='1177199' reftype='bug'>
			Hide authors now works for both authenticated and unauthenticated
			users
		</fix>	
		<fix author='alex' ref='1120772' reftype='bug'>
			Typo in discussion settings explanation is fixed
		</fix>	
		<fix author='alex' ref='1164085' reftype='bug'>
			Segue class sites that are grouped will now display all the students
			in all the classes included in the group.
		</fix>	
	</version>
	<version number="1.3.3" date="2005-01-14">
		<fix author='adam'>
			Now Segue strips PHPSESSID tags from any urls saved to prevent
			accidental session hijacking when copy/pasting links from a browser
			without cookies enabled.
		</fix>
		<fix author='adam'>
			Now Segue doesn't force the cookie domain if we are not accessing 
			segue from the domain specified in the config (either due to a
			configuration error or a vhost setting) as that would make the
			cookie inaccessible.
		</fix>
		<fix author='adam' ref='1083127' reftype='bug'>
			Added some additional error lines to be printed on email failure.
		</fix>
		<fix author='adam' ref='1083131' reftype='bug'>
			Added some additional information lines to be printed during table
			creation.
		</fix>
		<fix author='adam'>
			Database errors on connection will now not print the database
			password used unless the debug configuration option is set to 1.
		</fix>
		<change author='adam'>
			Date printing has been re-worked to support more timestamp formats.
			As well, config options have been added for customing date/time
			formats.
		</change>
		<fix author='adam' ref='878641' reftype='bug'>
			Removed some unused form fields.
		</fix>
	</version>
	<version number="1.3.2" date="2004-10-07">
		<fix author='adam'>
			Replaced preview links in permissions window with a link to the new
			preview screen.
		</fix>
		<fix author='adam'>
			'Build permissions array' now doesn't confuse delete and discuss
			permissions.
		</fix>
		<fix author='adam' ref='1042319' reftype='bug'>
			Classes with the external ID different from the internal code now
			are pulled properly in the roster.
		</fix>
		<change author='adam' ref='854782' refttype='bug'>
			Headers have been reworked to print a doctype tag as well as html 
			and	head tags in the right order. Some attributes, such as 
			align='right', have their attributes quoted, and br tags have
			trailing slashes added.	Much more cleaning up of the HTML needs to
			be done before Segue code will validate, but it is now partially
			along the way.
		</change>
		<fix author='adam'>
			Site-listing next/previous buttons now reflect search results.
		</fix>
		<fix author='adam'>
			Fixed midd network's LDAP search function to properly show members
			of the class as students.
		</fix>
		<fix author='adam'>
			Modified HTMLarea to not capture CTRL+v, which was violating 
			Mozilla's security policy for clipboard access.
		</fix>
		<fix author='adam'>
			Content blocks created in plain-text mode now have br tags replacing
			line breaks.
		</fix>
	</version>
	<version number="1.3.1" date="2004-10-05">
		<fix author='alex'>
			Removed invalid template from sample config.
		</fix>
		<fix author='alex'>
			Fixed links in user account maintenance UI (passwd.php).  Links to 
			register now appear in  user account maintenance UI if auth_register
			is turned on in config.
		</fix>
		<fix author='adam'>
			'Visitor Registration' screen now asks for Name instead of username, 
			what it was doing before, but not saying.
		</fix>
		<fix author='adam'>
			'Forgot password' screen now works properly.
		</fix>
		<fix author='adam'>
			When moving or copying sections/pages/stories within a site, the 
			'added' timestamps are now preserved.
		</fix>
		<fix author='alex'>
			Link to Segue site listing (sitelisting.php) changed from Public
			Sites to Site Listing to reflect that sites actually listed are not
			necessarily public.  Clarification made in explanation of site
			listing to indicate that the listing includes all class sites and
			all other sites	that have settings which specify public listing.
		</fix>
		<fix author='alex'>
			If a section has a single page, that page link will not be
			displayed. However, if that page is a "link" then it will be
			displayed to make it accessable.
		</fix>
		<fix author='adam'>
			The side-sections navigation was all screwed up and not printing
			editing links in viewsite mode.
		</fix>
		<fix author='adam'>
			Page titles are now displayed with the title CSS class instead of
			just bold letters.
		</fix>
		<fix author='adam'>
			The sample_config was replicating the auth_help string.
		</fix>
		<fix author='adam'>
			The sample_config now has an empty arry for the email excludes, 
			instead of an empty string as an element.
		</fix>
		<fix author='adam'>
			Misspelling in the Midd class functions was throwing a warning.
		</fix>
	</version>
	<version number="1.3.0" date="2004-09-30">
		<important author='adam'>
			Various changes in Segue necessitate that you upgrade to a new 
			config file as well as run the '1.3.0 update' under 
			'admin tools' --> 'updates'	to make several changes to Segue's
			database and file-storage structure.
		</important>		
		<fix author='adam'>
			'...more.' links now don't print for stories if the extended content 
			is just a line-return and a line break inserted by the editor.
		</fix>
		<fix author='adam'>
			Sites now only appear once in the 'Copy Site' bar.
		</fix>
		<change author='adam'>
			Everyone and institute permissions are now not dropped on site-copy.
			As well, when creating a group from an existing site, the 
			permissions are now retained.
		</change>
		<fix author='adam' ref='1036482' reftype='bug'>
			LDAP users are now syched with the database when they are given 
			permissions.
		</fix>
		<fix author='adam'>
			When adding slots to a group, they now disapear from the site
			listing.
		</fix>
		<fix author='adam' ref='1036562' reftype='bug'>
			CopySite now copies all media, not just those referenced by stories.
		</fix>
		<new author='adam'>
			Added a configuration checking function and some more helpful error
			messages so that installing and configuring Segue is more straight
			forward.
		</new>
		<fix author='alex' ref='856465' reftype='bug'>
			Have added notes and help to themes UI indicating the Popup Window
			blocker software should be disabled for Segue.
		</fix>
		<fix author='alex'>
			Improved navigation header display.  Fixed style of navigation
			header in bevelbox theme.
		</fix>
		<change author='alex'>
			Changed side sections navigational arrangement (see: theme settings)
			such that links to pages of the current section appear in an
			indented list below section name in left navigation.
		</change>				
		<fix author='adam'>
			Segue now checks that it can write to a site directory before 
			attempting to copy media to it and prints out an informative message
			if it can't	instead of failing with confusing errors.
		</fix>
		<fix author='adam' ref='879877' reftype='bug'>
			Removed repeating titles for stories in the sitemap.
		</fix>
		<new author='adam' ref='1029412' reftype='fr'>
			When copying sites or other parts of a site, discussion posts can
			now be coppied as well.
		</new>
		<new author='adam'>
			When viewing the logs screen, old logs are cleaned out as per a
			configurable number of days.
		</new>
		<fix author='adam'>
			Sites associated with a class and class sites now can properly
			add the class as an editor.
		</fix>
		<fix author='adam'>
			Segue now prints a nice error instructing the user to update thier
			links if a bad link tries to get a non-existant section or page and
			creates a corrupted section or page object.
		</fix>
		<new author='adam'>
			When copying a site, section, or page, links internal to that part 
			(such as links in a	content block that point to another page in the 
			site or section) are now updated to point to the appropriate place
			in the new version of the part.
		</new>
		<fix author='alex'>
			When editing slots, information about whether the slot was in use
			not or not is now accurate.
		</fix>
		<change author='alex'>
			Added new template to config.inc.php.
		</change>		
		<change author='alex'>
			Changed display of links on home page.  In particular, change "Public Site
			Lising" to "Public Sites".  Removed "links" header and removed header
			formatting from help link.  Also added text to public site listing.
		</change>
		<new author='alex' ref='1036499' reftype='fr'>
			Added a config option to include registration link below login
			fields when there has been no authentication.  Also added config option
			to include a external authentication help text string.
		</new>	
		<new author='alex'>
			Added a config option to include forgot your password link below login
			fields when there has been no authentication.  This allows users to request
			Segue to reset the passwords for their Segue user accounts (i.e. those 
			accounts whose authentication type is "db")
		</new>		
		<fix author='adam'>
			HTMLAREA and plaintext box editing now behavies better with respect to
			line returns. HTMLArea submissions now have the first line return removed
			to prevent them from accumulating. Plain textarea line returns are converted
			to &lt;br /&gt; tags.
		</fix>
		<change author='adam'>
			Discussions now display 'cancel' buttons when in post or rate modes.
		</change>
		<new author='adam'>
			Added 'Preview as user' functionality (found in the Permissions screen)
			that allows the owner of a site to see what the site would look like for
			other users (including 'everyone' and 'institute'). This can give site
			owners a better understanding of the permissions system.
		</new>
		<new author='alex'>
			Added Your Posts link to home page (default.inc.php).  Your posts displays
			all discussion/assessment posts the current user has made on all sites.
			Administrators will have the option to view all discussion/assessment posts
			across all sites for all users or find all the posts of a given user.
		</new>
		<change author="alex">
			Changed the way internal links (i.e. links to other pages in same site)
			are saved when added via section and page link types and via story link
			types.  Specifically, the full uri portion of internal link urls are
			replaced with a constant (similiar to Media Library path) when saved
			to database.  This will allow for updating these links correctly when
			copying a site or moving a site from one instance of Segue to another.
		</change>		
		<change author='alex'>
			Changed Active-X editor so that it links to the Media Library for images.
		</change>		
		<change author='adam' ref='865093' reftype='bug'>
			View and activate permission settings on template sites now affect
			who/when they appear for users creating sites.
		</change>
		<change author='adam'>
			Added the HTML Area editor to Image, Link, and File, story types.
		</change>
		<fix author='alex'>
			Fixed bug in display of stories by enclosing each story in a table to
			prevent edit and discuss/assess links from shifting across stories
		</fix>
		<change author='adam'>
			When logging in and logging out, users are kept on the same page if
			possible instead of being redirected back to the default page.
		</change>
		<change author='adam'>
			The 'Site not availible' error is now more informative and includes
			links to "Home" as well as a "create site" link if the active user
			is allowed to create a site in that place. The latter is useful when
			taking advantage of the vhost functionality.
		</change>
		<change author='adam'>
			When Changing to a differnt active user as admin, you are now kept on
			the same page.
		</change>
		<new author='gabe'>
			Segue can now be configured to restrict users to given sites based
			on the virtual host asked for. Each vhost must be set up on the webserver
			as well as in the Segue config.
		</new>
		<fix author='alex'>
			stripped html tags from of first 25 characters of content that is the topic
			of discussion and is displayed in discussion/assessment participation summary.
		</fix>
		<change author="adam">
			Changed the way semesters are defined and handled. Segue can now be configured
			to have as few or many semesters as desired, each with custom start/end
			days.
		</change>
		<important author='adam'>
			The semester-handling changes involve new config options if upgrading
			from Segue 1.2.x or earlier. Change also necessitates a database table
			change if semesters other than w,s,l,f are used. These table changes can
			be made by running the 1.3.0 update under 'admin tools' --> 'updates'
		</important>
		<fix author='adam'>
			Classes are now ordered by year, semester, and code on the default page.
		</fix>
		<fix author='adam'>
			sites.php now queries the new (as of a year ago) tables when checking
			for the type of a site.
		</fix>
		<fix author='adam'>
			Rating can now be set to zero. The default, NULL, -- set by an empty field --
			is "no rating".
		</fix>
		<fix author='adam'>
			Public Site Listing now prints next/previous links to additional pages.
		</fix>
		<new author='adam'>
			Added error-printing functions to print out backtraces neatly.
		</new>
		<new author='alex'>
			Added Media Library link to text content block UI to allow users to easily
			add media files to text content blocks in a way that is portable across copies
			of a site and can be exported from one instance of Segue to another. This
			Media Library link allows users to easily get urls of Media Library files to 
			copy/paste into  HTML or text editors.  When text content blocks are saved to
			database the $cfg[uploadurl] and $sitename portions of Media Library file urls 
			(i.e. entire url except filename) are converted to a placeholder 
			(i.e. unique string).  When text content blocks are displayed or edited 
			(i.e. fetched from database), the url placeholder is converted back to actual 
			current media file url (based on current $cfg[uploadurl] and site name.
		</new>
		<fix author='alex'>
			Fixed bug in media library (filebrowser.php) that prevented getting custom
			upload limits when called from add content block UI (add_story_form_1_item.inc)
		</fix>
		<change author='alex' ref='982246' reftype='fr'>
			Link type pages no longer open in new window.
		</change>
		<change author='alex' ref='982246' reftype='fr'>
			Link type content blocks no longer print out urls greater than 70 characters
			but instead truncate their display to avoid stretching their enclosing tables.
		</change>
		<change author='alex'>
			Have changed full text link (for content blocks with extended text) so that it
			is appended at the end of short text as "...more."  Have put an anchor on title
			of discuss/assess UI and added reference to this anchor in the discuss/assess 
			link.
		</change>
		<new author='alex'>
			Have added an option to chose a discuss/assess link label.  Choses are: discuss,
			assess, comment, review and register.
		</new>
		<change author='alex'>
			Have moved code in add_student.php that gets lists of students in class groups 
			to new getclassstudents function in class_functions/empty.inc.php.
		</change>
		<new author='alex'>
			Have added a function in class_functions for getting list of students from 
			class groups in Segue tables. Have also added to this function code to get a list of 
			students in a given class from LDAP groups.  This code appears in midd.inc.php
			and can be used as a reference for other ldap implementations.  
		</new>
		<new author='alex'>
			Added student roster listing UI for class type sites.  This UI allows site
			owners to add and remove users from their class group.  In addition, class 
			type sites will list all students in class in discussion moderation UI,
			regardless of whether or not they have posted to discussions/assessments on the 
			class site.
		</new>
		<new author='alex' ref='956123' reftype='fr'>
			Added visitor and guest usertypes.  Visitors can participate in public
			discussions and can be assigned permissions.  Visitors cannot view 
			institute-only content. Guests can participate in all discussions/assessments 
			accessible to institute users and can view institute-only content.  Neither
			visitors nor guests are given a slot for a personal site.
		</new>
		<change author='alex'>
			Changed passwd.php to handle 1. changing passwords of users authenticated via
			Segue's db 2. registering new visitor type users 3. Log in of existing users.
		</change>
		<new author='alex' ref='957605' reftype='fr'>
			Added user registration UI that appears in public discussions when posts
			are made without authentication.  User registration UI requires unauthenticated
			users to submit their name and email address when posting to public discussions.
			Email address in user registration UI is checked against email addresses in 
			user table.  In addition, their is a new config option for specifying emails
			that cannot be registered as visitor (these would be emails address that are 
			set up for an institution' users and part of their user account and authentication.
			Segue user accounts are created for users who register this way and
			these users are sent an email with their username (=email address) and a auto-
			generated password.  These users are visitor usertypes. 
		</new>
		<new author='adam'>
			Added an RSS Feed content type that allows the inclusion of RSS feeds into
			a Segue site.
		</new>
		<fix author="adam">
			Re-wrote the canview() and hasPermission() functions. They are now
			more understandable and commented, as well as having less redundency.
			Also, they now support the visitor user-type.
		</fix>
	</version>
	<version number="1.2.3" date="2004-08-04">
		<fix author='alex'>
			HTMLArea editor automatically inserts a break tag causing stories which
			user do not add content to have content.  Fixed this bug by deleting break
			tag if it is the only content in the editor
		</fix>
		<fix author='alex'>
			fixed bug that allowed users within institute ip range to post to discussions
			for only institute users without logging in.
		</fix>
		<change author='gabe'>
			Changed user-type output in status bar to display full
			words (ie, student instead of stud, professor instead of prof, etc).
		</change>
		<fix author='gabe'>
			Fixed discussion post output to strip slashes, avoided extra '\' characters.
		</fix>
		<new author='gabe'>
			Added in public site listing feature.
		</new>
		<fix author='gabe'>
			Changed semester-list in add-course admin tools view so that it
			corresponds to the list given in the config file instead of a static
			Middlebury-based list.
		</fix>
	</version>
	<version number="1.2.2" date="2004-07-06">
		<fix author='gabe'>
			Fixed a UI bug in which story timestamps/editors would display
&quot;edited by ...&quot; when nobody had done any editing.
		</fix>
		<fix author='alex'>
			Fixed browser sniffer bug that prevented inclusion of html editor
in add_site_form_5_header.inc and add_site_form_5_footer.inc
		</fix>
		<fix author='alex'>
			Fixed problem uploading files to Media Library that occured in
Mac Safari. Removed browser specific code from filebrowser.php
		</fix>
	</version>
	<version number="1.2.1" date="2004-06-17">
		<fix author='alex'>
			Fixed a problem uploading files to Media Library that occured in
			Windows Internet Explorer.  
		</fix>
		<change author='alex'>
			Link to edit discussion/assessment options from discussion/assessment 
			UI now returns users back to this location (instead of page)
		</change>	
	</version>
	<version number="1.2.0" date="2004-06-10">
		<new author='alex' ref='957602' reftype='fr'>
			Added HTMLarea version 3.0 to UI for adding content, editing site headers
			and footers and discussion posts.  2 implementations of the editor are
			used, one for content blocks, site headers and footers and another for 
			discussion posts. 
		</new>	
		<important author='alex'>
			The HTMLarea editor works with Mozilla 1.3 beta or higher or Windows
			Internet Explorer 5.5. or higher.  This editor doesn't work in Safari
			or Mac Internet Explorer.  For these browsers, a standard textarea is
			available.			
		</important>
		<new author='alex' ref='957602' reftype='fr'>
			Added UI for discussion/assessment participation summary and moderation.  
			This UI gives site owners a list of all the participants in a given 
			discussion/assessment or in all the discussions/assessments in the given 
			site.  This UI also allows site owners to email all the participants in 
			given discussion/assessment or all the participants of all 
			discussions/assessments in the given site.  finally this UI allows site
			 owners to sort all discussion posts by rating, post time or user name.
		</new>
		<new author='alex'>
			Added summary of discussion/assessment settings that is displayed for
			 site owners when they view discussions/assessments on their sites.
		</new>
		<fix author='alex'>
			Fixed bug that allowed discussions to be enabled without granting
			permissions to discuss to any group/users 
		</fix>
	</version>
		<version number="1.1.1" date="2004-04-23">
		<fix author='adam'>
			Fixed a problem in the _first_time_run.inc.php SQL syntax that 
			was preventing the discussion table from being created for new
			installs of Segue.
		</fix>
		<fix author='adam'>
			Fixed some missing quotation marks, ", in "admin tools" --> "edit
			users" page that were causing problems with spaces in names. Thanks
			go to Steve from Nottingham Trent University, England, for finding
			this problem.
		</fix>
	</version>
	<version number="1.1.0" date="2004-04-22">
		<new author='adam'>
			Command-line XML import/export scripts now allow for backup of Segue
			sites to flat XML files. For more information please reference the 
			README in the segue/export/ directory.
		</new>
		<fix author='alex'>
			Fixed bug in admin tools search users UI (users.php) so search
			pagination working properly.
		</fix>
		<fix author='alex'>
			Posting to discussions now works reliably on all browsers (PC
			Internet Explorer sometimes would not post because did not 
			interpret postform action path correctly).
		</fix>
		<fix author='adam'>
			Adding of editors now works in the 'discussions settings' step of
			the add/edit story interface.
		</fix>
		<important author='alex'>
			New database fields have been added to the story and discussion
			tables. To add new fields, log in as an administrator, then go to 
			'admin tools' > 'segue updates' and run the 1.1.0 update if needed.
		</important>
		<new author='alex'>
			Added information about discussion/assessment access such as
			authentication requirements, information about what will be 
			displayed to other users (e.g. author name, post content)
			and what post information is available to the site owner. 
		</new>	
		<new author='alex' ref='888585' reftype='fr'>
			Added file upload UI to discussion/assessment post form.  This
			feature will allow those who post to a discussion to attach a file.
			Upload UI uses the site Media Library (accessible from 
			filebrowser.php).  When the Media Library is accessed from 
			discussion/assessment, only files uploaded by the currently 
			authenticated user will appear (unless that user is the site owner).
			This new functionality will	allow the discussion/assessment UI to
			function as an assignment/assessment dropbox.
		</new>
		<new author='alex' ref='888588' reftype='fr'>
			Added option to rate discussion/assessment posts.  This feature 
			will allow site owners rate the quality of posts.  In assessment
			mode this rating can be used as a grade.
		</new>
		<new author='alex' ref='888588' reftype='fr'>
			Added option to show or hide authors of discussion/assessment posts.
 			This feature will allow site owners to create publicly anonymous 
 			discussions while retaining their own access to the identity of 
 			discussion post authors.  All users (other then the site owner) 
 			will see only then own posts identified.  This feature will also
			allow site owners to let all users see then results of an assessment
			without revealing identity of assessment post authors.
		</new>
		<new author='alex' ref='888588' reftype='fr'>
			Added option to show or hide discussion/assessment posts.  This
			feature will allow site owners to use discussions as assessments.
			Thus if hide posts is set then posts referred to collectively as 
			an Assessment.  All users (other then the site owner) will see 
			their own posts only.
		</new>
		<new author='alex'>
			Added option to email site owner all discussion/assessment posts. 
			This feature will allow site owners to get email updates of posts to
			their discussions. 
		</new>
		<new author='alex'>
			Added option to sort discussion/assessment posts by recent first or
			recent last, rating	and author. 
		</new>	
		<change author='alex'>
			Information on who posted last to a given discussion/assessment has
			been removed. This has been done to preserve integrity of assessment
			mode described above.
		</change>
		<change author='alex'>
			Link to discussions have been changed from Discussion to
			Discuss/Assess.
		</change>
		<change author='alex'>
			Full name (instead of username) now displayed in story author and
			editor attribution.
		</change>
		<change author='adam'>
			The user full name, email, and type in the db are now updated from
			LDAP or other auth method if the db version doesn't match.
		<fix author='alex'>
			Fixed bug that prevented indentation of replies to thread in Windows
			Internet Explorer.
		</fix>
		</change>
	</version>
	<version number="1.0.6" date="2003-12-29">
		<fix author='adam' ref='750109' reftype='bug'>
			Now doesn't attempt to perform operations on nonexistant LDAP
			results.
		</fix>
		<fix author='gabe' ref='865065' reftype='bug'>
			Now checks that the destination name is not the same as the source
			name and is also not an empty string.
		</fix>
	</version>
	<version number="1.0.5" date="2003-12-19">
		<change author='adam'>
			LDAP authentication has been generalized and should now work with 
			most LDAP servers.
		</change>
		<change author='alex'>
			Refined admin tools UI.  Added all Segue users
			to add/edit user UI and allowed for searching by auth and user type.
			Added pagination to add/edit slots UI and refined layout of search 
			results.
		</change>
		<fix author='alex' ref='853466' reftype='bug'>
			Classes now show up if the user is an admin.
		</fix>
		<fix author='alex' ref='853497' reftype='bug'>
			Removed link to assessments on default.inc.php
		</fix>
		<fix author='alex' ref='853501' reftype='bug'>
			Fixed a bug in add/edit classes UI so that classes existing classes 
			can now be edit.
		</fix>
	</version>
	<version number="1.0.4" date="2003-11-13">
		<fix author='adam'>
			Fixed a bug in the 1.0.3 permissions checking that prevented 
			institution users from accessing sites.
		</fix>
		<fix author='adam'>
			Fixed a bug in fetching of sites where a user is editor, so that a
			database connection is guaranteed.
		</fix>
	</version>
	<version number="1.0.3" date="2003-11-12">
		<change author='dobo'>
			Default page and permissions checking re-written to be faster.
		</change>
		<change author='adam'>
			Permissions window now has Save/Cancel buttons at the top of the 
			window.
		</change>
		<important author='adam'>
			Segue expects that usernames are all lower-case. Checks are in place
			to force the creation of lowercase usernames when adding users, but 
			if you are using a custom authentication modules, these checks may 
			be bypassed and you should check that usernames in your user table 
			are lower-case if you see strange problems with permissions. 
		</important>
		<new author='adam'>
			Addition of an update framework for applying database updates in
			Segue. When templates/database updates are in a release, they
			will appear in the "Segue Updates" section of the "admin tools".
		</new>
		<change author='alex'>
			Two new site templates: "Advanced: Single Section" and 
			"Advanced: Blank".
		</change>
		<important author='adam'>
			New templates have been added. To create the new templates, log in 
			as an administrator, then go to 'admin tools' --> 'segue updates'
			and run the 1.0.3 update if needed.
		</important>
		<change author='alex'>
			Discussions now appear in-line instead of in a popup window.
		</change>
		<change author='alex'>
			Admin screens for users, classes, slots, and logs now have improved
			searching and pagination.
		</change>
		<fix author='gabe' ref='776452' reftype='bug'>
			Anonymous/Unauthenticated discussions are now working.
		</fix>
		<fix author='adam' ref='809335' reftype='bug'>
			Class groups not listed from members
		</fix>
		<change author='adam' ref='804005' reftype='fr'>
			Editors of sections can now enable discussions for that section and
			select which (of the already availible editors) can post to it.
		</change>
		<fix author='adam' ref='803899' reftype='bug'>
			Co-Teaching profs now don't see site creation, grouping, or editing
			links if they are not the owner for a site. They see editing links
			as apropriate if they are editors.
		</fix>
		<fix author='adam' ref='803894' reftype='bug'>
			User's Full Names containing apostrophes now don't throw errors when
			adding to the user table.
		</fix>
	</version>
	<version number="1.0.2" date="2003-09-08">
		<change author='adam' ref='777065' reftype='fr'>
			The admin interface has been changed so that slot and their
			properties can be changed along side the classes and users. Custom 
			upload limits can be set in this slot interface now instead of
			editing the DB directly.
		</change>
		<fix author='adam' ref='802499' reftype='bug'>
			Story problems with the [De]Activate dates have been fixed
		</fix>
		<fix author='adam' ref='795587' reftype='bug'>
			Problems with the [De]Activate dates have been fixed
		</fix>
		<fix author='adam' ref='791954' reftype='bug'>
			The Move/Copy UI now shows the sitename to differentiate between
			similarly titled sites.
		</fix>
	</version>
	<version number="1.0.1" date="2003-08-08">
		<releaseNotes>
			This release provides a number of important bug-fixes and requested features:

			Security changes: login &amp; logout procedures have been changed to be more secure 
			and more compatible with other PHP programs running on a given system.
			
			Slot &amp; Media Library: The maximum Media Library size (upload limit) can now be 
			adjusted on a per-site basis and slot owners can be changed after being added.
			This is all available through the add/edit slots interface.
			
			IMPORTANT: This release includes a small database change! See the changelog for 
			detailed information.
		</releaseNotes>
		<fix>
			Fixed the numerous bugs that were generated by the change below.
			(ouch)
		</fix>
		<change>
			Slots interface: administrators can now edit owner &amp; media
			library size for existing slots.
		</change>
		<fix author='adam' ref='784526' reftype='bug'>
			Fixed upload of PHP files bug.
		</fix>
		<important>
			DB CHANGE: The 'slot' table has a new column: 'slot_uploadlimit',
			which is an INT(10), corresponding to the number of bytes of the
			quota.
		</important>
		<new author='adam' ref='777065' reftype="fr">
			Media Library quota can be adjusted on a per-site basis through the
			slot database table. Add Slot interface upgraded too.
		</new>
		<fix author='gabe' ref='771969' reftype="bug">
			Upon logout, the session, instead of being completely destroyed,
			only unsets Segue-specific variables. The previous functionality was

			also killing other apps running under the same session.
		</fix>
	</version>
	<version number="1.0.0 rc1" date="2003-07-14">
		<new author='gabe'>
			Added new config option: $cfg[domain] -- the cookie domain for
			session info. Allows session info to cross sites if they are running

			the same instance of segue.
		</new>
		<new author='gabe'>
			Discussion links now displayed with statistics info.
		</new>
		<change author='gabe'>
			By-line for default page now has a link to a "credits" page with
			more info about the authors.
		</change>
		<change>
			ChangeLog is now held in XML format &amp; converted with XSL!
		</change>
		<change author='gabe'>
			"Powered by Segue" logo now takes you to the Segue page.
		</change>
	</version>
	<version number="1.0.0 beta1" date="2003-07-11">
		<change>
			Permissions can now be assigned to link type sections and pages and
			image and file type stories.
		</change>
		<fix>
			Headings and dividers are now properly displayed when not logged in.
		</fix>
		<important author="adam">
			DATABASE CHANGE! The class_number field in the class table should be
			changed in type from an int(11) to a varchar(15) and the default set

			to "000".
		</important>
		<fix author="gabe">
			When integrated with an LDAP server, Segue now correctly
			synchronizes the user and class database tables when adding 
			users/groups as editors who have not yet logged in/been added to the

			local tables.
		</fix>
		<change>
			Added Dobo Radichkov's name as a main editor on Segue websites &amp;
			program.
		</change>
		<change author="gabe">
			View/add slots interface: a used slot now displays a "-" under the
			delete column instead of non-linked "delete" text for clarity.
		</change>
	</version>
	<version number="1.0.0 alpha3" date="2003-06-08">
		<new author="adam">
			Owners of class sites can now easily add members of their class as
			an editor.
		</new>
		<change author="adam">
			Activation/Deactivation Date form now has valid day options.
		</change>
		<change author="adam">
			When an admin is acting as another person, they can only see what
			that person would see.
		</change>
		<fix author="gabe">
			The "default" page now appropriately shows sites of which a group
			member is owner.
		</fix>
		<fix author="adam">
			Move/Copy now shows sites properly when opened on first page load.
		</fix>
		<change>
			More debug output has been removed.
		</change>
	</version>
	<version number="1.0.0 alpha2" date="2003-06-07">
		<change author="gabe">
			Removed debug output.
		</change>
	</version>
	<version number="1.0.0 alpha" date="2003-06-06">
		<new>
			First official release.
		</new>
	</version>
	
	<authors>
		<name short="gabe">Gabe Schine</name>
		<name short="adam">Adam Franco</name>
		<name short="dobo">Dobo Radichkov</name>
		<name short="max">Max Ovsjanikov</name>
		<name short="alex">Alex Chapin</name>
	</authors>
	<reporters>
		<reporter short="jim_witte">
			<name>Jim Witte</name>
			<institution>University of Illinois Urbana-Champaign</institution>
		</reporter>
		<reporter short="bryan">
			<name>Bryan Carson</name>
			<institution>Middlebury College</institution>
		</reporter>
		<reporter short="mel_hoag">
			<name>Melanie Hoag</name>
			<institution>Southwestern University</institution>
		</reporter>
		<reporter short="mike_edwards">
			<name>Mike Edwards</name>
			<institution>University of Illinois Urbana Champaign</institution>
		</reporter>
		<reporter short="mary_ellen">
			<name>Mary Ellen Bertolini</name>
			<institution>Middlebury College</institution>
		</reporter>
		<reporter short="sasha_woolson">
			<name>Sasha Woolson</name>
			<institution>Middlebury College</institution>
		</reporter>
	</reporters>
	<reftypes>
		<reftype name="bug">565234</reftype>
		<reftype name="fr">565237</reftype>
	</reftypes>
	<groupid>82171</groupid>
</changelog>
